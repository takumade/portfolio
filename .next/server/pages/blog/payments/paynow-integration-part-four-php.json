{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var r=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var t=a=>l(a,\"__esModule\",{value:!0});var u=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=>{t(a);for(var c in s)l(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let n of d(s))!m.call(a,n)&&n!==\"default\"&&l(a,n,{get:()=>s[n],enumerable:!(c=p(s,n))||c.enumerable});return a},g=a=>k(t(l(a!=null?r(h(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=u(($,i)=>{i.exports=_jsx_runtime});var v={};N(v,{default:()=>f,frontmatter:()=>y});var e=g(o()),y={title:\"Paynow Integration Part 4a - PHP Integration\",date:\"2022-07-03\",tags:[\"Paynow\",\"Payments\",\"Integration\"],draft:!1,summary:\"So we have finished the boring part now lets integrate Paynow into our project(PHP).\",images:[\"/static/images/paynow-intro.jpg\"],layout:\"PostLayout\",readTime:\"4 minute read\"};function b(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",ul:\"ul\",li:\"li\",a:\"a\",h2:\"h2\",span:\"span\",pre:\"pre\",code:\"code\",strong:\"strong\",img:\"img\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"So we finished the boring parts and today we are going to do the following\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"#sec-1\",children:\"Initialize Paynow\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"#sec-2\",children:\"Adding Payment\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"#sec-3\",children:\"Adding some products\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"#sec-4\",children:\"Then sending payment to Paynow\"})})]}),(0,e.jsxs)(n.h2,{id:\"1-initialize-paynow----\",children:[(0,e.jsx)(n.a,{href:\"#1-initialize-paynow----\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"1. Initialize Paynow \",(0,e.jsx)(\"a\",{name:\"sec-1\"})]}),(0,e.jsx)(n.p,{children:\"Before you can do anything you have to include PayNow and initialize it first\"}),(0,e.jsx)(n.pre,{className:\"language-php\",children:(0,e.jsxs)(n.code,{className:\"language-php code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`// include paynow here\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token language-php php\",children:[(0,e.jsx)(n.span,{className:\"token delimiter important\",children:\"<?php\"}),`\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token language-php php\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$paynow\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name class-name-fully-qualified\",children:[\"Paynow\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),\"Payments\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),\"Paynow\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token language-php php\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'INTEGRATION_ID'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token language-php php\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'INTEGRATION_KEY'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token language-php php\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'http://example.com/gateways/paynow/update'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token language-php php\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'http://example.com/return?gateway=paynow'\"}),`\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token language-php php\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})]})}),(0,e.jsxs)(n.p,{children:[\"This creates a PayNow instance, \",(0,e.jsx)(n.strong,{children:\"your keys should be correct\"}),\" or it will raise \",(0,e.jsx)(n.code,{children:\"Integration Exception\"}),\" on checkout. Errors can be annoying.\"]}),(0,e.jsxs)(n.h2,{id:\"2-creating-a-payment---\",children:[(0,e.jsx)(n.a,{href:\"#2-creating-a-payment---\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"2. Creating a payment \",(0,e.jsx)(\"a\",{name:\"sec-2\"})]}),(0,e.jsx)(n.p,{children:\"The next stage involves adding a payment to the PayNow instance you have created:\"}),(0,e.jsx)(n.pre,{className:\"language-php\",children:(0,e.jsxs)(n.code,{className:\"language-php code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$invoice_name\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string double-quoted-string\",children:'\"Invoice \"'}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"time\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$user_email\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"filter_var\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token global\",children:\"$_POST\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'user_email'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"FILTER_SANITIZE_EMAIL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$payment\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$paynow\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"createPayment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$invoice_name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$user_email\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"This adds a payment to your instance you create in step 1. Once payment succeeds PayNow will send an email to the customer for transparence and reference purposes.\"}),(0,e.jsxs)(n.p,{children:[\"##3. Add some products \",(0,e.jsx)(\"a\",{name:\"sec-3\"})]}),(0,e.jsx)(n.p,{children:\"If you have one product you can add it like this:\"}),(0,e.jsx)(n.pre,{className:\"language-php\",children:(0,e.jsx)(n.code,{className:\"language-php code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$payment\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"add\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'Sadza and Beans'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.25\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,e.jsx)(n.p,{children:\"If you have more than one products then you can add them like this\"}),(0,e.jsx)(n.pre,{className:\"language-php\",children:(0,e.jsxs)(n.code,{className:\"language-php code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$products\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"Object1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Object2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Object3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Object10 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"foreach\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$products\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$product\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$payment\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"add\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"price\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"If those products have quantities or amounts then it will be something like this\"}),(0,e.jsx)(n.pre,{className:\"language-php\",children:(0,e.jsxs)(n.code,{className:\"language-php code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$products\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"Object1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Object2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Object3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Object10 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$total\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$tax\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0.01\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"foreach\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$products\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$product\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$total\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"price\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"qty\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$tax_amount\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$total\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$tax\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$total\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$tax_amount\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$total\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$payment\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"add\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"price\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"You could add things like coupons, discounts, promotions and what what but well I will leave that you.\"}),(0,e.jsxs)(n.h2,{id:\"sending-payment-to-paynow----\",children:[(0,e.jsx)(n.a,{href:\"#sending-payment-to-paynow----\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Sending payment to PayNow \",(0,e.jsx)(\"a\",{name:\"sec-4\"})]}),(0,e.jsx)(n.p,{children:\"After adding payment the next stage is sending the payment to payment to PayNow\"}),(0,e.jsx)(n.pre,{className:\"language-php\",children:(0,e.jsx)(n.code,{className:\"language-php code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$response\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$paynow\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"sendMobile\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$payment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'077777777'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'ecocash'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,e.jsx)(n.p,{children:\"Here were requesting for a mobile transaction to occur between our Paynow account and 0777777777 's Ecocash.\"}),(0,e.jsx)(n.p,{children:\"The number you get from user through forms or from database. The platform('ecocash') can be retrieved from user through forms or by auto detection\"}),(0,e.jsx)(n.pre,{className:\"language-php\",children:(0,e.jsxs)(n.code,{className:\"language-php code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$phone\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string double-quoted-string\",children:'\"07777777\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$platform\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string double-quoted-string\",children:'\"\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"str_starts_with\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$phone\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'071'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$platform\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string double-quoted-string\",children:'\"onemoney\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"str_starts_with\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$phone\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'073'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$platform\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string double-quoted-string\",children:'\"telecash\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$platform\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string double-quoted-string\",children:'\"ecocash\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Then \"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$response\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$paynow\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"sendMobile\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$payment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$phone\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Your users will love this \\u{1F60E}\\u{1F60E}\\u{1F60E}\"}),(0,e.jsx)(n.p,{children:\"So this part alone should send a message to your customer mobile asking for payment:\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"Alt Text\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hcnkp25o3fdfrd2jgj7f.jpg\"})}),(0,e.jsx)(n.p,{children:\"Of course there will be some small differences.\"}),(0,e.jsx)(n.p,{children:\"Ok that's it for this one in the next tutorial we will talk about checking payments.\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"image\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2nza4jbux3awqyf39sy2.png\"})})]})}}var f=b;return v;})();\n;return Component;","toc":[{"value":"1. Initialize Paynow    ","url":"#1-initialize-paynow----","depth":2},{"value":"2. Creating a payment   ","url":"#2-creating-a-payment---","depth":2},{"value":"Sending payment to PayNow    ","url":"#sending-payment-to-paynow----","depth":2}],"frontMatter":{"readingTime":{"text":"4 min read","minutes":3.52,"time":211200,"words":704},"slug":"payments/paynow-integration-part-four-php","fileName":"payments/paynow-integration-part-four-php.md","title":"Paynow Integration Part 4a - PHP Integration","date":"2022-07-03T00:00:00.000Z","tags":["Paynow","Payments","Integration"],"draft":false,"summary":"So we have finished the boring part now lets integrate Paynow into our project(PHP).","images":["/static/images/paynow-intro.jpg"],"layout":"PostLayout","readTime":"4 minute read"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.395,"time":23700,"words":79},"slug":["default"],"fileName":"default.mdx","name":"Takunda Madechangu","avatar":"https://media-exp1.licdn.com/dms/image/C5603AQE02WVVvLkz2w/profile-displayphoto-shrink_800_800/0/1648488522359?e=1661385600&v=beta&t=q_p8xi2vVgLT-ktZM6jNOH0LMqUZkpbo-qe9Db7nuxY","occupation":"Developer","company":"Corporate Advisors Canada â€”","email":"madechangu.takunda@gmail.com","twitter":"https://twitter.com/takucoder","linkedin":"https://www.linkedin.com/in/tmadechangu","github":"https://github.com/takumade","whatsapp":"https://wa.me/263778548832?text=Hello+Taku+","date":null}],"prev":{"title":"Paynow Integration Part 3 - Installation","date":"2022-07-03T00:00:00.000Z","tags":["Paynow","Payments","Integration"],"draft":false,"summary":"After getting the keys the next stage is to install Paynow library or SDK.","images":["/static/images/blog/paynow-installation.png"],"layout":"PostLayout","readTime":"4 minute read","slug":"payments/paynow-integration-part-three"},"next":{"title":"Paynow Integration Part 5a - Checking for payments","date":"2022-07-03T00:00:00.000Z","tags":["Paynow","Payments","Integration"],"draft":false,"summary":"If you don't check and verify your payments your customers can buy things for free from you.(PHP)","images":["/static/images/paynow-intro.jpg"],"layout":"PostLayout","readTime":"4 minute read","slug":"payments/paynow-integration-part-five-php"}},"__N_SSG":true}